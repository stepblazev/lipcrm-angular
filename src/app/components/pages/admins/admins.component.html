<div class="mt-8">
    <div class="text-[2rem] font-bold">Администраторы</div>
    
    <div class="mt-4 flex justify-between items-start">
        <form class="flex items-start">
            <div class="control">
                <input type="search" class="control__input" placeholder="поиск" />
            </div>
            <button class="ml-2 btn-alt" type="reset">Сбросить</button>
        </form>
        <button type="button" class="btn" (click)="isNewOpened=true">Добавить администратора</button>
    </div>
    
    <table *ngIf="admins.length" class="mt-6 w-full">
        <tr class="border">
            <th class="border">Фото</th>
            <th class="border">Активность</th>
            <th class="border">ФИО</th>
            <th class="border">Контакты</th>
            <th class="border">Организация</th>
            <th class="border">Город</th>
            <th class="border">Нагрузка</th>
            <th class="border">Кол-во</th>
            <th class="border">Логин</th>
            <th class="border">Доступ</th>
            <th class="border"></th>
        </tr>
        <tr *ngFor="let admin of admins" class="border">
            <td class="border">
                <img width="70" height="70" src="{{ admin.getAvatarUrl() }}" alt="">
            </td>
            <td class="border">
                <app-checkbox [id]="admin.id.toString()" [checked]="admin.active" />
            </td>
            <td class="border">
                {{ admin.name }}
            </td>
            <td class="border">
                <a *ngIf="admin.phone" href="tel:{{ admin.phone }}">{{ admin.phone }}</a><br>
                <a *ngIf="admin.email" href="mailto:{{ admin.email }}">{{ admin.email }}</a>
            </td>
            <td class="border">
                {{ admin.company.name }}
            </td>
            <td class="border text-gray">
                NULL
            </td>
            <td class="border text-gray">
                NULL
            </td>
            <td class="border">
                {{ admin.company.employees_count }}
            </td>
            <td class="border">
                {{ admin.email }}
            </td>
            <td class="border">
                <span *ngFor="let permission of admin.company.permissions" class="block">{{ permission.display_name
                    }}</span>
            </td>
            <td class="border flex flex-col items-stretch gap-1">
                <button type="button" class="btn">Изменить</button>
                <button type="button" class="btn btn--error">Удалить</button>
            </td>
        </tr>
    </table>
</div>

<app-popup [isOpened]="isNewOpened" (closeEvent)="isNewOpened=false">
    <app-admins-new />
</app-popup>